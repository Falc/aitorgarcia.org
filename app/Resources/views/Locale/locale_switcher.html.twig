<div id="locale-selector" class="btn-group pull-right">
    <button type="button" class="btn btn-secondary dropdown-toggle" data-toggle="dropdown">
        {{ current_locale | locale(current_locale) | capitalize }} <span class="caret"></span>
    </button>

    <ul class="dropdown-menu" role="menu">
    {% for locale in locales %}
        {% set route_params = app.request.attributes.get('_route_params') | merge({'locale': locale.locale}) %}
        <li><a href="{{ path(current_route | slice(0, -3), route_params) }}">{{ locale.locale | locale(locale.locale) | capitalize }}</a></li>
    {% endfor %}
    </ul>
</div>
